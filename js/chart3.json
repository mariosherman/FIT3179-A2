{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "description": "Out-of-School Rates and Completion Rates for Males and Females by Country",
    "data": {
      "url": "data/global-education.csv"
    },
    "transform": [
      {
        "filter": {
          "param": "countryFilter",
          "field": "Countries and areas",
          "equal": "Afghanistan"
        }
      }
    ],
    "params": [
      {
        "name": "countryFilter",
        "value": "Afghanistan",
        "bind": {
          "input": "select",
          "options": ["Afghanistan", "Albania"],
          "labels": ["Afghanistan", "Albania"],
          "name": "Select Country: "
        }
      }
    ],
    "layer": [
      {
        "mark": {"type": "rule", "strokeWidth": 2},
        "encoding": {
          "x": {"field": "Type", "type": "nominal"},
          "y": {"field": "Rate", "type": "quantitative"},
          "color": {"field": "Gender"},
          "tooltip": [
            {"field": "Countries and areas", "title": "Country"},
            {"field": "Type", "title": "Education Level"},
            {"field": "Gender", "title": "Gender"},
            {"field": "Rate", "title": "Rate (%)"}
          ]
        }
      },
      {
        "mark": {"type": "circle", "size": 100},
        "encoding": {
          "x": {"field": "Type", "type": "nominal"},
          "y": {"field": "Rate", "type": "quantitative"},
          "color": {"field": "Gender"},
          "tooltip": [
            {"field": "Countries and areas", "title": "Country"},
            {"field": "Type", "title": "Education Level"},
            {"field": "Gender", "title": "Gender"},
            {"field": "Rate", "title": "Rate (%)"}
          ]
        }
      }
    ],
    "transform": [
      {
        "calculate": "'OOSR_PrePrimary'",
        "as": "Type"
      },
      {
        "calculate": "datum.OOSR_PrePrimary_Age_Male",
        "as": "Rate",
        "field": "Male"
      },
      {
        "calculate": "datum.OOSR_PrePrimary_Age_Female",
        "as": "Rate",
        "field": "Female"
      }
        ],
    "config": {
      "axis": {
        "labelFontSize": 12,
        "titleFontSize": 14
      }
    }
  }
  