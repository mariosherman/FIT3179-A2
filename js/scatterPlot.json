{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": "Most Recent Literacy Rates of Young Men vs Women",
  "data": {
    "url": "data/filtered-literacy-data-sex.csv",
    "format": {"type": "csv"}
  },
  "transform": [
    {
      "filter": "datum['Youth Male Literacy Rate'] != null && datum['Youth Female Literacy Rate'] != null"
    },
    {
      "filter": "datum['Youth Male Literacy Rate'] > 0 && datum['Youth Female Literacy Rate'] > 0"
    },
    {
      "window": [
        {
          "op": "max",
          "field": "Year",
          "as": "MostRecentYear"
        }
      ],
      "groupby": ["Entity"]
    },
    {
      "filter": "datum.Year == datum.MostRecentYear"
    }
  ],
  "params": [
    {
      "name": "Continent_selection",
      "value": "All",
      "bind": {
        "input": "select",
        "options": [
          "All", "Asia", "Africa", "Europe", "North America", "South America", "Oceania"
        ],
        "name": "Select Continent: "
      }
    }
  ],
  "transform": [
    {
      "filter": "Continent_selection == 'All' || datum.Continent == Continent_selection"
    }
  ],
  "width": 700,
  "height": 350,
  "mark": "point",
  "encoding": {
    "x": {
      "field": "Youth Female Literacy Rate",
      "type": "quantitative",
      "axis": {"title": "Female Youth Literacy Rate (%)"},
      "format": ".2f"
    },
    "y": {
      "field": "Youth Male Literacy Rate",
      "type": "quantitative",
      "axis": {"title": "Male Youth Literacy Rate (%)"},
      "format": ".2f"
    },
    "color": {
      "field": "Continent",
      "type": "nominal",
      "legend": {"title": "Continent"},
      "scale": {"scheme": "tableau10"}
    },
    "size": {
      "field": "Population (historical)",
      "type": "quantitative",
      "scale": {"range": [0, 800]},
      "legend": {"title": "Population (Historical)"},
      "format": ","
    },
    "tooltip": [
      {"field": "Entity", "type": "nominal", "title": "Country"},
      {"field": "Year", "type": "quantitative", "title": "Year Recorded"},
      {
        "field": "Youth Male Literacy Rate",
        "type": "quantitative",
        "title": "Male Youth Literacy Rate",
        "format": ".2f"
      },
      {
        "field": "Youth Female Literacy Rate",
        "type": "quantitative",
        "title": "Female Youth Literacy Rate",
        "format": ".2f"
      },
      {
        "field": "Population (historical)",
        "type": "quantitative",
        "title": "Population",
        "format": ","
      }
    ]
  }
}
